knitr::include_graphics("qms.png")
# automatically create a bib database for R packages
knitr::write_bib(c(
.packages(), 'bookdown', 'knitr', 'rmarkdown'
), 'packages.bib')
#options(knitr.duplicate.label = "allow")
library(knitr)
library(dplyr)
library(sf)
library(spatstat)
library(raster)
library(units)
library(plotrix)
library(sfsmisc)
library(mapview)
library(rgdal)
setwd("C:/Users/einav/Desktop/Thesis data/La Plata")
landuse <- raster("laplata_lubu.tif")
bu_prop <- read_sf("strata_prop_bu.shp")
bu_prop <- st_transform(bu_prop, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
bu_prop$landuse <- "Built up"
nonbu_prop <- read_sf("strata_prop_nonbu.shp")
nonbu_prop <- st_transform(nonbu_prop, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
nonbu_prop$landuse <- "Non built up"
#combine stratas and change to 0 above and equal 30 sqm
strat_prop <- rbind(bu_prop, nonbu_prop)
strat_prop$elec_prod[strat_prop$area <= 30] <- 0
strat_prop$elec_prod_mwh <- strat_prop$elec_prod/1000
strat_prop$elec_prod_gwh <- strat_prop$elec_prod/1000000
head(strat_prop)
summary(strat_prop)
mapview(landuse,  map.types =  "CartoDB.VoyagerLabelsUnder", alpha.regions = 0.15, legend=F, col.regions=list("yellow","black")) + mapview(strat_prop, zcol="landuse")
setwd("C:/Users/einav/Desktop/Thesis data/La Plata")
landuse <- raster("laplata_lubu.tif")
bu_prop <- read_sf("strata_prop_bu.shp")
bu_prop <- st_transform(bu_prop, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
bu_prop$landuse <- "Built up"
nonbu_prop <- read_sf("strata_prop_nonbu.shp")
nonbu_prop <- st_transform(nonbu_prop, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
nonbu_prop$landuse <- "Non built up"
#combine stratas and change to 0 above and equal 30 sqm
strat_prop <- rbind(bu_prop, nonbu_prop)
strat_prop$elec_prod[strat_prop$area <= 30] <- 0
strat_prop$elec_prod_mwh <- strat_prop$elec_prod/1000
strat_prop$elec_prod_gwh <- strat_prop$elec_prod/1000000
#head(strat_prop)
#summary(strat_prop)
mapview(landuse,  map.types =  "CartoDB.VoyagerLabelsUnder", alpha.regions = 0.15, legend=F, col.regions=list("yellow","black")) + mapview(strat_prop, zcol="landuse")
setwd("C:/Users/einav/Desktop/Thesis data/La Plata")
landuse <- raster("laplata_lubu.tif")
bu_prop <- read_sf("strata_prop_bu.shp")
bu_prop <- st_transform(bu_prop, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
bu_prop$landuse <- "Built up"
nonbu_prop <- read_sf("strata_prop_nonbu.shp")
nonbu_prop <- st_transform(nonbu_prop, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
nonbu_prop$landuse <- "Non built up"
mapview(landuse,  map.types =  "CartoDB.VoyagerLabelsUnder", alpha.regions = 0.15, legend=F, col.regions=list("yellow","black")) + mapview(strat_prop, zcol="landuse")
setwd("C:/Users/einav/Desktop/Thesis data/La Plata")
landuse <- raster("laplata_lubu.tif")
bu_prop <- read_sf("strata_prop_bu.shp")
bu_prop <- st_transform(bu_prop, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
bu_prop$landuse <- "Built up"
nonbu_prop <- read_sf("strata_prop_nonbu.shp")
nonbu_prop <- st_transform(nonbu_prop, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
nonbu_prop$landuse <- "Non built up"
mapview(landuse,  map.types =  "CartoDB.VoyagerLabelsUnder", alpha.regions = 0.15, legend=F, col.regions=list("yellow","black"))
setwd("C:/Users/einav/Desktop/Thesis data/La Plata")
landuse <- raster("laplata_lubu.tif")
bu_prop <- read_sf("strata_prop_bu.shp")
bu_prop <- st_transform(bu_prop, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
bu_prop$landuse <- "Built up"
nonbu_prop <- read_sf("strata_prop_nonbu.shp")
nonbu_prop <- st_transform(nonbu_prop, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
nonbu_prop$landuse <- "Non built up"
mapview(landuse,  map.types =  "Esri.WorldImagery", alpha.regions = 0.15, col.regions=list("yellow","black"))
setwd("C:/Users/einav/Desktop/Thesis data/La Plata")
landuse <- raster("laplata_lubu.tif")
bu_prop <- read_sf("strata_prop_bu.shp")
bu_prop <- st_transform(bu_prop, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
bu_prop$landuse <- "Built up"
nonbu_prop <- read_sf("strata_prop_nonbu.shp")
nonbu_prop <- st_transform(nonbu_prop, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
nonbu_prop$landuse <- "Non built up"
mapview(landuse,  map.types =  "Esri.WorldImagery", alpha.regions = 0.5)
setwd("C:/Users/einav/Desktop/Thesis data/La Plata")
landuse <- raster("laplata_lubu.tif")
bu_prop <- read_sf("strata_prop_bu.shp")
bu_prop <- st_transform(bu_prop, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
bu_prop$landuse <- "Built up"
nonbu_prop <- read_sf("strata_prop_nonbu.shp")
nonbu_prop <- st_transform(nonbu_prop, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
nonbu_prop$landuse <- "Non built up"
mapview(landuse,  map.types =  "Esri.WorldImagery", alpha.regions = 0.5, legend=F)
setwd("C:/Users/einav/Desktop/Thesis data/La Plata")
laplata_poly <- read_sf("polygon_3.shp")
laplata_poly <- st_transform(laplata_poly, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
mapview(laplata_poly,  map.types =  "Esri.WorldImagery",legend=F)
setwd("C:/Users/einav/Desktop/Thesis data/La Plata")
laplata_poly <- read_sf("polygon_3.shp")
laplata_poly <- st_transform(laplata_poly, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
mapview(laplata_poly,  map.types =  "Esri.WorldImagery", alpha = 0.1, legend=F)
setwd("C:/Users/einav/Desktop/Thesis data/La Plata")
laplata_poly <- read_sf("polygon_3.shp")
laplata_poly <- st_transform(laplata_poly, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
mapview(laplata_poly,  map.types =  "Esri.WorldImagery", alpha = 0.15, legend=F)
setwd("C:/Users/einav/Desktop/Thesis data/La Plata")
laplata_poly <- read_sf("polygon_3.shp")
laplata_poly <- st_transform(laplata_poly, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
mapview(laplata_poly,  map.types =  "Esri.WorldImagery", alpha.regions = 0.15, legend=F)
setwd("C:/Users/einav/Desktop/Thesis data/La Plata")
laplata_poly <- read_sf("polygon_3.shp")
laplata_poly <- st_transform(laplata_poly, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
mapview(laplata_poly,  map.types =  "Esri.WorldImagery", alpha.regions = 0.15, col = 'red', legend=F)
setwd("C:/Users/einav/Desktop/Thesis data/La Plata")
laplata_poly <- read_sf("polygon_3.shp")
laplata_poly <- st_transform(laplata_poly, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
mapview(laplata_poly,  map.types =  "Esri.WorldImagery", alpha.regions = 0, color="red", lwd=2, legend=F)
knitr::include_graphics("images\rastovec6.png")
knitr::include_graphics("images/rastovec6.png")
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(sf)
library(raster)
library(plotrix)
library(sfsmisc)
library(rgdal)
input_path <- setwd(".../La Plata")
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(sf)
library(raster)
library(plotrix)
library(sfsmisc)
library(rgdal)
input_path <- setwd(".../La Plata")
#change to 0 above and equal 30 sqm
sample1$elec_prod[sample1$area <= 30] <- 0
sample1 <- read_sf("sample100.shp")
sample1 <- read_sf("data/sample100.shp")
sample1 <- st_transform(sample1, "+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs")
#change to 0 above and equal 30 sqm
sample1$elec_prod[sample1$area <= 30] <- 0
#create mega watt per hour (mWh) column
sample1$elec_prod_mwh <- sample1$elec_prod/1000
head(sample1)
summary(sample1)
n1 <- as.numeric(nrow(sample1))
y1 <- mean(sample1$elec_prod_mwh)
paste("The mean of sample 1: ", round(y1,2), "(mWh)")
N_all <- 2482 #all buildings in the city
s1 <- var(sample1$elec_prod_mwh)
paste("The variance of sample 1: ", round(s1,2), "(mWh)")
knitr::include_graphics(c("images/iclei_100re.png", "images/BMU_2018_supported_Web2x_en.gif")
knitr::include_graphics(c("images/iclei_100re.png", "images/BMU_2018_supported_Web2x_en.gif"))
knitr::include_graphics("images/structure.png")
